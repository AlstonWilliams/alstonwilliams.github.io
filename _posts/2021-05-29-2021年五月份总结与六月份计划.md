---
layout: post
title: 2021年五月份总结与六月份计划
date: 2021-05-29
author: AlstonWilliams
header-img: img/post-bg-2015.jpg
catalog: true
categories:
- 路漫漫其修远兮
tags:
- 路漫漫其修远兮
---

## 自我治愈

这个月是收获比较多的一个月。

首先心理上又回到了积极阳光的心态。本来月初挺消沉的，后来有意识地在微博上，在一些治愈的地方进行自我治愈，加上公司的新人培训，所以后来又回到了斗志昂扬的时候。

一个人消沉的时候就很容易只看眼前，而积极的时候就特别容易看的更远。

这第三年的目标实现了，自己也有点懈怠。之前做规划的时候，就是主要做了前三年的规划，而后面两年的规划只是简单地写了一下。因为当时工作也就一年，所以第四年工作目标是设想不出来的。而且其实当时对能不能实现三年的目标也有一定的怀疑态度，但好在一直安慰自己就算最后实现不了，但只要朝着这个目标努力，最后总能无限接近这个目标。

所以当不到三年的时候就完成了这个目标，反而是有些出乎意料。所以就有些懈怠了下来。

这人一懈怠，就容易慢慢迷失。好在后来看到自己的生活无光，觉得这样过下去很可怕，就干脆每天给自己一些积极的心理暗示，进行自我治愈。比如每天微博里发一句"又是新的一天，今天也要加油鸭"。就这样不到半个月，就能把心态扭转过来。

人们总是说事情太多累。但我反而日子过得零零散散容易累。后来我琢磨了下，寻思累的根源其实还是没有找到自己想要为之奋斗的理想，所以一眼望去都是遥遥无际的惨淡的生活。

所以要想让自己不累，应该做的不是去打游戏娱乐。而应该是首先找到自己打心底想要的东西，然后制定计划去得到它。这样每天都能知道自己的下一个里程碑在哪里，就像打怪升级一样。

不过到现在我也并没有制定接下来两年的规划，有些摸着石头过河的感觉，每天也感觉很充实，很有奔头。

规划也不能说没有，想要的东西几十年都没变过。只是现在还没有把明确的时间节点对应上。

在自我治愈的过程中，就想读一些鸡汤文。知道有一些是没有意义的鸡汤文，但没关系，就想去读。

这个过程中发现了一本书，叫《我的漂亮朋友》。这本书结尾有些烂尾，但依然觉得这本书不错。

众所周知，一般起这种名字的，剧情一般让人作呕。三角恋啦，霸道总裁啦，这种东西。但这本书没有。

这本书看介绍说描述的是一个人如何从家境贫寒到成就千秋霸业。起码给我的感觉是讲了这么一个故事。但最终的结果是，女主找了一个富二代男朋友，就结束了。

这本书很能对应到现实生活中。比如反复强调的阶级，比如重男轻女等等。

摘抄一些划出来的有共鸣的句子：

> 她终于想明白，美貌对于一个女人是锦上添花，而不是雪中送炭。一旦涉及婚姻这个话题，没有其他条件支撑的美貌，是那么的不堪一击。 

> 但她知道一旦这样做，首先伤害的可能就是帮她搞定学籍的老师的利益；另外，她找关系弄学籍这件事，有可能就公布于众了，若追究起来，她不能保证自己能否顺利去T大上学。她知道生活这种事，很多时候并不是有理就能走遍天下，并不是据理力争就能解决所有的事情。那么这件事，也只好忍气吞声就这样算了。

> 不靠家里的话，想在上海好一点的位置买套房比登天还难。谈个恋爱结个婚，有了孩子两个人一起愁。恨不得把双方老人挂裤腰带上，为你们做牛做马一辈子，还得为你的孩子做牛做马。这样一生有什么意思？


看刘文静，其实也是在看自己。总会想到曾经自己也是那么的野心勃勃。也正是这本书，让我恢复到了之前的状态。

## 副业

这个月也找到了一个得到一份收入的方法。虽然不多，但毕竟是工资外第一份收入。今年的目标里面第二难的就是找一份副业。现在副业也找到了，后面就是怎么做大的问题了。做事最难的不是从0到1吗？

搞副业，就像大学兼职，就担心本末倒置，把主业拉胯了。所以副业这件事的选择上，最重要的应该是自己能获得成长，然后是能挣钱。如果在年轻的时候为了千把块钱把自己的主业搞垮了，到了中年就完了。这是一个不错的副业，因为一方面能加深自己的技术积累，一方面能训练自己的表达能力，另一方面也能扩展自己的人脉。这些能力长远来看都是对职业生涯很有帮助的事情。

有了副业，下一步就是考虑如何提高副业收入。第一个小目标是每月收入3000块。

## 音乐

副业有了，除了空闲时间想办法把它做好，就该在今年第三难的另外两个目标上下功夫了。分别是学习钢琴和吉他。

《简版卡农》这个月学习了40小节。大概每天都会练习半小时到一小时。

但现在也只是能记住前60小节的谱子而已，离很丝滑地按照正确的节奏弹出来还是有较大差距。后面不仅在熟练度上要再提升，节奏也要进行大幅度提升。

吉他则好久没碰了。但周末偶尔拿起来弹奏两下还是挺喜欢的。

## 生活

前些日子找到了一个很好用的软件-Trello。公司给换了MacBook Pro，终于不用再忍受Windows的不美观和Ubuntu的不便。但Mac的待办事项这个软件做计划管理太弱了。所以就想找一款软件，我能把自己每个月的目标按周进行拆解，然后每周的目标拆解成每天要做的事情。这个软件需要支持我直观看到每周自己要做的事，正在做的事，做完的事，Block的事，以及各个事项的紧急程度。同时还要美观。所以就找到了Trello，在自己做了一些自定义设置之后，完全能满足我的需求。

这个软件应该是用于团队管理，项目管理。但我管理自己的计划也很不错。体验很不错。

这个月体重没有减很多。目标是160斤，但到月末是164斤。也不怎么上心了。

看了几部剧，一部《怪奇物语》。惊悚类的。讲的是人类打开不同空间的通道，然后怪物入侵。这部剧还是挺不错的。

另一部是《行尸之惧》。这部剧看起来有些疲惫，审美疲劳。剧情有些太类似。总是主角团到了一个地方被坑，然后突围。到另一个地方又被坑，又突围。前两部看的还不错。越往后越觉得无聊。

想找一部和僵尸干架的剧，但这部剧从头到尾几乎没有和僵尸干架的剧情。所以没有继续看下去。

生活似乎一点点平淡下去。再也没有很精致的午餐晚餐。甚至动手烹饪的时间都减少了很多。周末也没有出去看展等活动。书读的也少了很多。

但似乎也没有平淡。钢琴还是一直练，周末偶尔手痒也拿起吉他拨弄两下。遇到喜欢的展也会腾出来时间去，比如六月份有个科技展览大会，工作日，中午腾出来时间也要去。新闻看的少了，但技术类的东西看的多了。

可能是之前不切实际的奢望没了，所以平淡了一些？


## 技术学习

上个月留的两个问题，一个是倒排索引要排序才行，那无序更新怎么办。另一个是如何从列式存储中找到完整的一行。

对于第一个问题，ES中采用类似SSTable的方式，也就是会定期或者到达一定大小就生成一个新的文件，查询时会将历史索引文件和新的文件合并查询。而且ES中也有compaction的机制。进行合并。

对于第二个问题，对于ES这种，会先根据查询拿到docId，然后从fielddata中去拿完整数据。这个很简单。但对于Parquet这种呢？

在Dremel论文中，解释了如何从列式存储拿到一条完整的记录。大概就是根据Repetition level以及Definition level，以及FSM来构造。但是这个解释只是从理论层面能解释的通，结合执行下推等如何获取一条完整的记录这个我有一个猜想，但没有去阅读源码验证是否正确。

Parquet好像就是根据Dremel的论文设计的，所以获取一行完整的记录的方式都相同。

在设计底层存储的时候，调研了CarbonData。并且对Parquet的认识也更深入了一些。在做性能对比的时候，有一些想不明白的地方也有深入去查找资料，最终也是找到了答案。

问：为什么CarbonData+BloomFilter比Parquet快？
答：目前生产环境使用的Parquet都是Parquet-MR 1.6这个版本，而Parquet-MR 1.6版本不支持BloomFilter，只支持mim/max统计。而min/max统计对于未排序列在进行过滤时，很有可能范围过大，比如英文姓名，都是A-Z，这样就无法进行过滤。但是通过BloomFilter在未排序的列上可以进行过滤，但BloomFilter只能适用于in/=这两种情况。而且BloomFilter可以先从Driver端就将不需要的数据过滤掉，所以启动的Task更少，而Parquet做不到。只能先启动Task然后再根据min/max统计值去过滤。

问：为什么表中的数据已经经过了排序(local sort)，但是用CarbonData+BloomFilter依然比CarbonData快？
答：和上面那个问题类似。因为加BloomFilter索引能减少Task数量。

问：为什么Secondary Index相对于CarbonData性能没有什么提升？
答：因为Secondary Index进行查询时首先需要扫描HDFS上的索引文件，再去查询原始数据，一个18s的查询，光扫描索引文件就需要11s，扫描数据文件需要7s。


## 理财

这个月理财收益比较差。0.43%。我也没有怎么关注基金，就一直放在那儿。我就觉得我心态比较好，如果短时间不符合预期就放在那儿不去管它，甚至忘了这件事。如果符合预期就时常上去看看。但就算亏了也不会有什么负面心理。


## 吐槽

有一件事让我很烦，就是总有一些人想要试图改变我的生活。我个人对于别人做的决定，如果只是跟我说一下，除了黄赌毒，无论他做什么决定我都会支持他，如果担心有风险会友情提示，但还是尊重他们的选择。如果是咨询我的意见，那我会从利弊两方面给他阐释清楚，然后让他根据自己的优先级选择一个。但当别人已经决定好之后，我绝不会试图游说他，让他改变主意。

有一句话说的是，一个不愿意麻烦别人的人，一般也是不愿意被别人麻烦的人。我不想替别人做决定，也不想别人替我做决定。

有几种情况我会接收别人的建议：要么是我想做的事他已经做过，在这方面他有更多的经验和知识，而我尚在雾里看花的时候，我会积极请教，规避风险。要么是他并没有试图帮我做决定，并且提出了一个我做一件事之前没考虑到的风险，这个我也会去认真考虑这件事的风险和收益。

在之后是在哪发展这件事上。我十几年前就已经决定的事，如今更不想被人做选择。特别是试图替我做决定的时候，提出的理由要么是站在道德的角度上，要么是没有考虑到经济发展规律，比如连贬值这件事都不知道。

虽然毕业前两年是打算35岁以后回老家发展，但在上海生活了几年，再到每次放假回老家，这中间的生活体验差别。我非常明确我喜欢哪一种生活。

从职业生涯来看，上海这座城市能给我更多的机遇，天花板更高。也是最能让我接近我的理想的一座城市。

从房子这件事来看，虽然现在没有钱去买，但未来随着职业生涯的发展，随着更多的事情进入正轨，买个房子就那么难吗？说到还房贷难的，这更扯淡了。在上海买房的压力是首付，75%的首付，25%的房贷，每个月用公积金就能轻松还上。

从人脉来看，我的朋友也大多都在上海，北京这些城市，老家完全没有同职业能互帮互助的朋友。

从经济发展角度来看，上海这座城市会越来越接近国际水平，而老家则现在互联网企业都没有起步，未来是一个更加人工智能的时代，老家现在连最简单的互联网都没起步，未来拿什么竞争？老家节奏慢，更适合老年去居住。而上海节奏快，适合年轻人打拼。

从子女发展来看，很明显在上海这儿起点比老家不知道要高多少。能接触到的人，接触的事都不知道高到哪儿去了。

从社会资源来看，上海的医疗资源，教育资源比老家也不知道要好多少。就我那考上大学的经历，相对于其他的地方，简直不要太苦。以至于上了大学以后我做梦梦到回到高中就会吓醒。

从思想观念来看，老家的思想观念更加陈旧迂腐，毕竟是孔孟之乡。还很重视那一套。但孔孟之道被大肆推广其实也就是为了方便统治阶级统治。而上海这座城市思想更加开放，重视每个人的个性。比如你穿一件稍微露骨的衣服，在老家就会被认为是荡妇，妓女。而在上海这种地方很普遍。回老家和朋友聊天也就是聊女人，聊游戏，很少能聊到未来发展，如何挣钱等话题。而在上海这儿和朋友出去吃饭，经常会聊到股票，证券，聊到房子，聊到挣钱。我对期权的认识还是从一位朋友那里得到的。

老家人聊到上海，认知就是压力大，还不如回老家发展。但我就很奇怪，一个年轻人怎么心态就非得是享乐？

我回老家，五点下班，回家吃个饭，然后能干嘛？出去喝茶唠嗑，然后睡觉。然后呢？这样的日子日复一日，有什么意思吗？

所以读《我的漂亮朋友》的时候，我对刘文静特别能感同身受，因为人生的发展经历有很多类似的地方。所以把这本书推荐给朋友的时候，我说我仿佛在这本书里看到了自己。

随着视野的扩大，对从小耳濡目染产生的一些观念也产生了质疑。比如，有些人在外地发展好了，然后不回老家了，就被认为是不孝。就整天被唾骂。像《回归故里》中这种发展到国际知名学者的还好，大家都是羡慕。而那种发展的好的普通人，则就是人们酒后的谈资，就说是白养了个儿子。似乎在人们的观念里，生了个儿子就该完全听从长辈的。

打小这种话听的多了，也会产生这么一种观念。但后来自己体会到了，慢慢地开始质疑。

首先，孩子不是父母的物品。不要整天站在道德制高点，什么父母养育你多年，你得听话啊。孩子有自己的思想，时代变了，和父母的思想不一样很正常。特别是现在很多父母的思想甚至是有些畸形，还一直在用几十年前的经验说事。

像现在的社会内卷，不少人唾弃，但又不知不觉自己用上了。就拿考试成绩来说，大家小的时候都被父母说过你看看谁谁谁的孩子这种话吧。这不就是内卷吗？一方面自己在职场里说内卷，一方面自己教育孩子又对孩子内卷。真恶心。

就是认识到长辈的很多思想都是陈旧甚至错误的，所以在听从长辈的建议的时候我一般都是左耳朵进右耳朵出，完全不会放到心上。

有多少父母生孩子，只是为了传宗接代，只是为了生理需求？生下来孩子以后，就试图控制孩子的一生。稍有不遂，就打骂。首先，父母都是孩子的最重要的老师，从孩子身上基本就能看出来父母是什么样的人。所以如果孩子身上有一些缺陷，是不是父母首先要反思自己呢？而不是一味责怪孩子？很多父母自己都不喜欢读书学习，自己都没有上进心，却望子成龙，望女成凤，可笑不？其次，父母自己都没有进步，世界变化的这么快，却还是陈旧的思想，孩子往往能通过互联网接触到外面的世界，思想不一样岂不是太正常？就像一个原始人来教你怎么生火，两个人有冲突岂不是正常的？

最可悲的是，有很多人就是想通过打骂，通过道德绑架，强行将孩子思想下降，最终就是泯然众人矣。然后又开始骂孩子不成器。

其次，有一句话不是说，由俭入奢易由奢入俭难。由奢入俭是反人性的。你让一个整天去捡破烂的人，后来做了老板，然后放弃当老板再去捡破烂试试？同样的道理，人家在外面发展好了，凭什么要再回到起点。能看到那些回老家的人，大多是在外不顺，迫不得已才回老家的。那些在外地能闯荡出一番天地的，哪有人主动放弃回老家的？

现在互联网的发展，也很容易把一些事情放大。本来都是很偶然的事情，一些极个别的人，一放大就可能被认为普遍现象。比如要真说从农村里走出来的企业家，就刘强东一个人。不少人以为马云，王健林，史玉柱没有后台，就从0到1就创业成功了。真是可笑。

说了这么多，我想表达的就是，对于以后在哪儿发展，利弊得失，我都已经考虑的很清楚了。希望以后不要再有人替我做决定。

## 六月份计划

- 阅读《零售管理》中感兴趣的部分
- 早睡，十二点之前必须入睡
- 阅读Flink源码
- 利用业余时间扩大副业规模
- 看《爱，死亡和机器人》
- 去看一次艺术展/看一场话剧/看一场脱口秀/去清吧听民谣
- 帮两个人内推
- 学完整个简版卡农，并在节奏上掌握的更好(已学完，但还需进一步练习)
- 参加科技展览大会(×)
- 吃一家其貌不扬但很好吃的店(✔️)
- 阅读《就聊挣钱》(✔️)
- 阅读《零售的哲学》(✔️)
- 建立个人日记类博客(放弃)
- 仰卧起坐每晚从50个慢慢提升到100个(✔️)
- 阅读《切尔诺贝利的午夜》(放弃)
- 了解公司另一个数据产品(✔️)
- 看《士兵突击》(✔️)
- 办理居住证(✔️)
- 把当前这个产品的实现了解完(✔️)
